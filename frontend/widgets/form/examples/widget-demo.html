<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>N8n Form Widget - Example</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background: #f5f5f5;
      }
      .header {
        background: white;
        padding: 30px;
        border-radius: 8px;
        margin-bottom: 30px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      h1 {
        margin: 0 0 10px 0;
        color: #333;
      }
      .subtitle {
        color: #666;
        margin: 0;
      }
      .demo-section {
        background: white;
        padding: 30px;
        border-radius: 8px;
        margin-bottom: 30px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .demo-section h2 {
        margin-top: 0;
        color: #333;
      }
      pre {
        background: #f8f8f8;
        padding: 15px;
        border-radius: 4px;
        overflow-x: auto;
        border: 1px solid #e0e0e0;
      }
      code {
        font-family: "Courier New", Courier, monospace;
        font-size: 14px;
      }
      .widget-container {
        margin-top: 20px;
      }
      .note {
        background: #fffbea;
        border-left: 4px solid #f59e0b;
        padding: 15px;
        margin: 15px 0;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>üé® N8n Form Widget Demo</h1>
      <p class="subtitle">Embed forms on any website without iframes</p>
    </div>

    <!-- Method 1: Auto-initialize with data attributes -->
    <div class="demo-section">
      <h2>Method 1: Auto-Initialize (Simplest)</h2>
      <p>Just add a div with <code>data-n8n-form</code> attribute:</p>

      <pre><code>&lt;!-- Add this to your HTML --&gt;
&lt;div data-n8n-form="YOUR_FORM_ID" 
     data-api-url="https://api.yourdomain.com/api"
     data-theme="light"&gt;&lt;/div&gt;

&lt;!-- Add the widget script --&gt;
&lt;script src="https://yourdomain.com/widgets/form/n8n-form-widget.umd.js"&gt;&lt;/script&gt;</code></pre>

      <div class="note">
        <strong>Note:</strong> Replace <code>YOUR_FORM_ID</code> with your
        actual form ID from the workflow. Update URLs to match your deployment.
        For local testing, use <code>http://localhost:4000/api</code> and
        <code>../dist/n8n-form-widget.umd.js</code>
      </div>

      <div class="widget-container">
        <div
          data-n8n-form="5689ad2d-5029-4a10-822c-89f12c0c384e"
          data-api-url="http://localhost:4000/api"
          data-theme="light"
        ></div>
      </div>
    </div>

    <!-- Method 2: Manual initialization with JavaScript -->
    <div class="demo-section">
      <h2>Method 2: Manual Initialization (Advanced)</h2>
      <p>Use JavaScript for more control and callbacks:</p>

      <pre><code>&lt;div id="my-form"&gt;&lt;/div&gt;

&lt;script src="https://yourdomain.com/widgets/form/n8n-form-widget.umd.js"&gt;&lt;/script&gt;
&lt;script&gt;
  const widget = new window.N8nFormWidget();
  
  widget.init({
    formId: 'YOUR_FORM_ID',
    apiUrl: 'https://api.yourdomain.com/api',
    container: '#my-form',
    theme: 'auto', // 'light', 'dark', or 'auto'
    onSuccess: (data) => {
      console.log('Form submitted successfully!', data);
      alert('Thank you for your submission!');
    },
    onError: (error) => {
      console.error('Form error:', error);
    }
  });
&lt;/script&gt;</code></pre>

      <div class="widget-container">
        <div id="manual-form"></div>
      </div>
    </div>

    <!-- Method 3: Live Demo -->
    <div class="demo-section">
      <h2>Method 3: Live Demo with Your Form</h2>
      <p>This is your actual form loaded and ready to submit:</p>

      <div class="note">
        <strong>Form ID:</strong>
        <code>5689ad2d-5029-4a10-822c-89f12c0c384e</code><br />
        <strong>Form URL:</strong>
        <a
          href="http://localhost:3000/form/5689ad2d-5029-4a10-822c-89f12c0c384e"
          target="_blank"
          >http://localhost:3000/form/5689ad2d-5029-4a10-822c-89f12c0c384e</a
        >
      </div>

      <div class="widget-container">
        <div
          data-n8n-form="5689ad2d-5029-4a10-822c-89f12c0c384e"
          data-api-url="http://localhost:4000/api"
          data-theme="auto"
        ></div>
      </div>
    </div>

    <!-- Method 4: Multiple forms on same page -->
    <div class="demo-section">
      <h2>Method 4: Multiple Forms</h2>
      <p>Embed multiple forms on the same page:</p>

      <pre><code>&lt;!-- Contact Form --&gt;
&lt;div data-n8n-form="contact-form-id"&gt;&lt;/div&gt;

&lt;!-- Newsletter Form --&gt;
&lt;div data-n8n-form="newsletter-form-id"&gt;&lt;/div&gt;

&lt;script src="https://yourdomain.com/widgets/form/n8n-form-widget.umd.js"&gt;&lt;/script&gt;</code></pre>
    </div>

    <!-- Widget configuration options -->
    <div class="demo-section">
      <h2>‚öôÔ∏è Configuration Options</h2>

      <table style="width: 100%; border-collapse: collapse">
        <thead>
          <tr style="background: #f5f5f5; border-bottom: 2px solid #ddd">
            <th style="padding: 10px; text-align: left">Option</th>
            <th style="padding: 10px; text-align: left">Type</th>
            <th style="padding: 10px; text-align: left">Required</th>
            <th style="padding: 10px; text-align: left">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid #ddd">
            <td style="padding: 10px"><code>formId</code></td>
            <td style="padding: 10px">string</td>
            <td style="padding: 10px">‚úÖ Yes</td>
            <td style="padding: 10px">The unique ID of your form</td>
          </tr>
          <tr style="border-bottom: 1px solid #ddd">
            <td style="padding: 10px"><code>apiUrl</code></td>
            <td style="padding: 10px">string</td>
            <td style="padding: 10px">No</td>
            <td style="padding: 10px">
              API endpoint (auto-detected if not provided)
            </td>
          </tr>
          <tr style="border-bottom: 1px solid #ddd">
            <td style="padding: 10px"><code>container</code></td>
            <td style="padding: 10px">string | HTMLElement</td>
            <td style="padding: 10px">No</td>
            <td style="padding: 10px">Container selector or element</td>
          </tr>
          <tr style="border-bottom: 1px solid #ddd">
            <td style="padding: 10px"><code>theme</code></td>
            <td style="padding: 10px">'light' | 'dark' | 'auto'</td>
            <td style="padding: 10px">No</td>
            <td style="padding: 10px">Theme mode (default: 'auto')</td>
          </tr>
          <tr style="border-bottom: 1px solid #ddd">
            <td style="padding: 10px"><code>onSuccess</code></td>
            <td style="padding: 10px">function</td>
            <td style="padding: 10px">No</td>
            <td style="padding: 10px">
              Callback when form is submitted successfully
            </td>
          </tr>
          <tr>
            <td style="padding: 10px"><code>onError</code></td>
            <td style="padding: 10px">function</td>
            <td style="padding: 10px">No</td>
            <td style="padding: 10px">Callback when an error occurs</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Benefits section -->
    <div class="demo-section">
      <h2>‚ú® Benefits vs iframes</h2>
      <ul>
        <li>
          ‚úÖ <strong>Better SEO:</strong> Content is directly in the page DOM
        </li>
        <li>
          ‚úÖ <strong>Responsive:</strong> Adapts to parent container width
          automatically
        </li>
        <li>
          ‚úÖ <strong>No height issues:</strong> No need to calculate iframe
          height
        </li>
        <li>
          ‚úÖ <strong>Style isolation:</strong> Uses Shadow DOM to prevent CSS
          conflicts
        </li>
        <li>
          ‚úÖ <strong>Faster loading:</strong> No additional HTTP requests for
          iframe
        </li>
        <li>
          ‚úÖ <strong>Native interactions:</strong> Smooth scrolling, focus
          handling, etc.
        </li>
        <li>
          ‚úÖ <strong>Easy integration:</strong> Just one script tag needed
        </li>
      </ul>
    </div>

    <!-- Load the widget script -->
    <!-- Load the N8n Form Widget from your build -->
    <script src="../dist/n8n-form-widget.umd.js"></script>

    <!-- Manual initialization example -->
    <script>
      // Example of manual initialization with your actual form
      if (window.N8nFormWidget) {
        const manualWidget = new window.N8nFormWidget();

        manualWidget.init({
          formId: "5689ad2d-5029-4a10-822c-89f12c0c384e",
          apiUrl: "http://localhost:4000/api",
          container: "#manual-form",
          theme: "light",
          onSuccess: (data) => {
            console.log("‚úÖ Form submitted successfully!", data);
            alert("Thank you for your submission! üéâ");

            // Example: Track with analytics
            // gtag('event', 'form_submission', { form_id: '5689ad2d-5029-4a10-822c-89f12c0c384e' });
          },
          onError: (error) => {
            console.error("‚ùå Form error:", error);
            alert("Error: " + error);
          },
        });

        console.log(
          "‚úÖ Widget initialized with form ID: 5689ad2d-5029-4a10-822c-89f12c0c384e"
        );
      } else {
        console.error("‚ùå N8nFormWidget not loaded");
      }
    </script>
  </body>
</html>
